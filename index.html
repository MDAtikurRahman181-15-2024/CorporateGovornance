<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржкрзНрж░рж╕рзНрждрзБрждрж┐</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Study -->
    <!-- Application Structure Plan: The SPA is designed as a single-page vertical scroller with a sticky sidebar navigation for quick access to the 8 key topics. This structure is ideal for educational material and exam preparation, allowing users to easily jump between subjects without losing context. The flow is user-driven; they can study topics in any order. Interactivity is introduced through clickable cards, simple diagrams, and new Gemini API features (case study/question generation, TTS) to make learning more engaging and effective than a static document. -->
    <!-- Visualization & Content Choices:
        - Report Info: Board of Directors composition. Goal: Inform/Organize. Viz: Doughnut Chart (Chart.js/Canvas). Interaction: Hover for tooltips showing director types. Justification: A doughnut chart is excellent for showing parts of a whole, making the board's composition instantly clear.
        - Report Info: Management functions. Goal: Compare/Inform. Viz: Radar Chart (Chart.js/Canvas). Interaction: Hover over points to see function names and importance scores. Justification: A radar chart effectively compares multiple quantitative variables, ideal for showing the balanced importance of various management functions.
        - Report Info: Recruitment Process. Goal: Organize. Viz: Step-by-step diagram (HTML/CSS). Interaction: Clicking a step highlights it and shows descriptive text. Justification: A visual process flow is much easier to follow and remember than a simple text list.
        - Gemini Feature: Case Study Generation. Goal: Apply/Understand. Viz: Text in Modal. Interaction: Button click triggers API call. Justification: Connects theoretical management styles to practical, real-world examples.
        - Gemini Feature: Interview Question Generation. Goal: Apply/Prepare. Viz: Text in Modal. Interaction: Button click. Justification: Provides practical, exam-oriented content based on the curriculum's skill requirements.
        - Gemini Feature: Text-to-Speech. Goal: Accessibility/Inform. Viz: Audio playback. Interaction: Speaker icon click. Justification: Caters to different learning styles and enhances accessibility. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans Bengali', sans-serif;
            background-color: #FDFBF7;
            color: #333D45;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-right: 4px solid transparent;
        }
        .nav-link.active {
            background-color: #E9E4DB;
            color: #A47748;
            border-right-color: #A47748;
            transform: translateX(-2px);
        }
        .content-card {
            background-color: #FFFFFF;
            border: 1px solid #E9E4DB;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .interactive-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .interactive-card:hover {
           transform: translateY(-5px);
           box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        .step-item.active .step-circle {
            background-color: #A47748;
            color: white;
            border-color: #A47748;
        }
        .step-item.active .step-title {
            color: #A47748;
            font-weight: 700;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        .gemini-btn {
            background-color: #A47748;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .gemini-btn:hover {
            background-color: #8e653a;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #A47748;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-[#FDFBF7]">

    <div class="flex flex-col md:flex-row min-h-screen">
        <aside class="w-full md:w-64 lg:w-72 bg-[#F6F3EE] p-4 md:p-6 sticky top-0 h-screen-calc md:h-screen overflow-y-auto border-r border-[#E9E4DB]">
            <h1 class="text-2xl font-bold text-[#A47748] mb-8">ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</h1>
            <nav id="navigation" class="flex flex-col space-y-2">
                <a href="#topic1" class="nav-link p-3 rounded-l-lg text-base font-medium">рзз. ржорж╛рж▓рж┐ржХрж╛ржирж╛ ржУ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</a>
                <a href="#topic2" class="nav-link p-3 rounded-l-lg text-base font-medium">рзи. ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржкржжрзНржзрждрж┐</a>
                <a href="#topic3" class="nav-link p-3 rounded-l-lg text-base font-medium">рзй. ржмрзЛрж░рзНржб ржЕржл ржбрж┐рж░рзЗржХрзНржЯрж░рж╕</a>
                <a href="#topic4" class="nav-link p-3 rounded-l-lg text-base font-medium">рзк. ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржЖржХрж╛рж░</a>
                <a href="#topic5" class="nav-link p-3 rounded-l-lg text-base font-medium">рзл. ржпрзЛржЧрзНржпрждрж╛</a>
                <a href="#topic6" class="nav-link p-3 rounded-l-lg text-base font-medium">рзм. ржирж┐ржпрж╝рзЛржЧ ржкржжрзНржзрждрж┐</a>
                <a href="#topic7" class="nav-link p-3 rounded-l-lg text-base font-medium">рзн. ржХрж╛рж░рзНржпрж╛ржмрж▓рж┐</a>
                <a href="#topic8" class="nav-link p-3 rounded-l-lg text-base font-medium">рзо. ржХрзНрж╖ржорждрж╛</a>
            </nav>
        </aside>

        <main class="w-full p-4 md:p-8 lg:p-12 overflow-y-auto">
            <header class="mb-12">
                <h2 class="text-4xl font-bold text-[#333D45] mb-2">ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рзНржЯрж╛ржбрж┐ ржЧрж╛ржЗржб</h2>
                <p class="text-lg text-gray-600">ржкрж░рзАржХрзНрж╖рж╛рж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐рж░ ржЬржирзНржп ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐рж╖ржпрж╝ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржжрзЗржЦрзБржи, рж╢рзБржирзБржи ржПржмржВ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзБржиред</p>
            </header>

            <section id="topic1" class="mb-16 scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзз. ржорж╛рж▓рж┐ржХрж╛ржирж╛ ржУ ржкрзЗрж╢рж╛ржжрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржкрзГржержХрзАржХрж░ржг</h3>
                        <button id="tts-btn-1" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic1')">ЁЯФК</button>
                    </div>
                    <div id="topic1-content">
                        <p class="mb-6 text-gray-700">ржЖржзрзБржирж┐ржХ ржХрж░рзНржкрзЛрж░рзЗржЯ ржХрж╛ржарж╛ржорзЛрждрзЗ, ржХрзЛржорзНржкрж╛ржирж┐рж░ ржорж╛рж▓рж┐ржХ (рж╢рзЗржпрж╝рж╛рж░рж╣рзЛрж▓рзНржбрж╛рж░) ржПржмржВ ржпрж╛рж░рж╛ ржХрзЛржорзНржкрж╛ржирж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржи (ржмрзНржпржмрж╕рзНржерж╛ржкржХ) рждрж╛рж░рж╛ рж╕рж╛ржзрж╛рж░ржгржд ржнрж┐ржирзНржи ржнрж┐ржирзНржи ржмрзНржпржХрзНрждрж┐ рж╣ржиред ржПржЗ ржкрзГржержХрзАржХрж░ржг ржХрж░рзНржкрзЛрж░рзЗржЯ рж╢рж╛рж╕ржирзЗрж░ ржПржХржЯрж┐ ржорзВрж▓ ржнрж┐рждрзНрждрж┐, ржпрж╛ ржжржХрзНрж╖рждрж╛ ржПржмржВ ржЬржмрж╛ржмржжрж┐рж╣рж┐рждрж╛ ржмрзГржжрзНржзрж┐ ржХрж░рзЗред</p>
                        <div class="grid md:grid-cols-2 gap-6 text-center">
                            <div class="bg-[#F6F3EE] p-6 rounded-lg border border-[#E9E4DB]">
                                <h4 class="text-lg font-bold mb-2">ржорж╛рж▓рж┐ржХ (рж╢рзЗржпрж╝рж╛рж░рж╣рзЛрж▓рзНржбрж╛рж░)</h4>
                                <p class="text-sm">тЬУ ржорзВрж▓ржзржи рж╕рж░ржмрж░рж╛рж╣ ржХрж░рзЗ</p>
                                <p class="text-sm">тЬУ ржХрзЛржорзНржкрж╛ржирж┐рж░ ржЖржВрж╢рж┐ржХ ржорж╛рж▓рж┐ржХ</p>
                                <p class="text-sm">тЬУ рж▓ржнрзНржпрж╛ржВрж╢ ржЧрзНрж░рж╣ржг ржХрж░рзЗ</p>
                                <p class="text-sm">тЬУ ржмрзЛрж░рзНржб ржЕржл ржбрж┐рж░рзЗржХрзНржЯрж░рж╕ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗ</p>
                            </div>
                            <div class="bg-[#F6F3EE] p-6 rounded-lg border border-[#E9E4DB]">
                                <h4 class="text-lg font-bold mb-2">ржкрзЗрж╢рж╛ржжрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржХ</h4>
                                <p class="text-sm">тЬУ ржжрзИржиржирзНржжрж┐ржи ржХрж╛рж░рзНржпржХрзНрж░ржо ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗ</p>
                                <p class="text-sm">тЬУ ржХрзМрж╢рж▓ржЧржд рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрзНрж░рж╣ржг ржХрж░рзЗ</p>
                                <p class="text-sm">тЬУ ржмрзЛрж░рзНржбрзЗрж░ ржХрж╛ржЫрзЗ ржжрж╛ржпрж╝ржмржжрзНржз ржерж╛ржХрзЗ</p>
                                <p class="text-sm">тЬУ ржжржХрзНрж╖рждрж╛рж░ ржЬржирзНржп ржмрзЗрждржиржнрзБржХрзНржд</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="topic2" class="mb-16 scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзи. ржХрж░рзНржкрзЛрж░рзЗржЯ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржкржжрзНржзрждрж┐</h3>
                        <button id="tts-btn-2" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic2')">ЁЯФК</button>
                    </div>
                    <div id="topic2-content">
                        <p class="mb-6 text-gray-700">ржХрж░рзНржкрзЛрж░рзЗржЯ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржмрж┐ржнрж┐ржирзНржи ржкржжрзНржзрждрж┐ ржмрж╛ рж╢рзИрж▓рзА рж░ржпрж╝рзЗржЫрзЗред ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ рж╕ржВрж╕рзНржХрзГрждрж┐, ржЖржХрж╛рж░ ржПржмржВ рж╢рж┐рж▓рзНржкрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЙржкржпрзБржХрзНржд ржкржжрзНржзрждрж┐ ржмрзЗржЫрзЗ ржирзЗржУржпрж╝рж╛ рж╣ржпрж╝ред ржХрж╛рж░рзНржбржЧрзБрж▓рж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирзБржиред</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="interactive-card flex flex-col justify-between p-6 rounded-lg border bg-[#F6F3EE]">
                            <div>
                                <h4 class="text-lg font-bold mb-2">ржПржХржирж╛ржпрж╝ржХрждрж╛ржирзНрждрзНрж░рж┐ржХ (Autocratic)</h4>
                                <p class="text-sm">ржХрзЗржирзНржжрзНрж░рзАржпрж╝ржнрж╛ржмрзЗ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрзНрж░рж╣ржг, ржХрж░рзНржорзАржжрзЗрж░ ржорждрж╛ржоржд ржХржоред</p>
                            </div>
                            <button class="gemini-btn mt-4 text-sm" onclick="generateCaseStudy('ржПржХржирж╛ржпрж╝ржХрждрж╛ржирзНрждрзНрж░рж┐ржХ')">тЬи ржХрзЗрж╕ рж╕рзНржЯрж╛ржбрж┐</button>
                        </div>
                        <div class="interactive-card flex flex-col justify-between p-6 rounded-lg border bg-[#F6F3EE]">
                            <div>
                                <h4 class="text-lg font-bold mb-2">ржЧржгрждрж╛ржирзНрждрзНрж░рж┐ржХ (Democratic)</h4>
                                <p class="text-sm">рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрзНрж░рж╣ржгрзЗ ржХрж░рзНржорзАржжрзЗрж░ ржЕржВрж╢ржЧрзНрж░рж╣ржг ржерж╛ржХрзЗред</p>
                            </div>
                            <button class="gemini-btn mt-4 text-sm" onclick="generateCaseStudy('ржЧржгрждрж╛ржирзНрждрзНрж░рж┐ржХ')">тЬи ржХрзЗрж╕ рж╕рзНржЯрж╛ржбрж┐</button>
                        </div>
                        <div class="interactive-card flex flex-col justify-between p-6 rounded-lg border bg-[#F6F3EE]">
                            <div>
                                <h4 class="text-lg font-bold mb-2">ржЕржмрж╛ржз (Laissez-faire)</h4>
                                <p class="text-sm">ржХрж░рзНржорзАржжрзЗрж░ ржкрзВрж░рзНржг рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред</p>
                            </div>
                            <button class="gemini-btn mt-4 text-sm" onclick="generateCaseStudy('ржЕржмрж╛ржз')">тЬи ржХрзЗрж╕ рж╕рзНржЯрж╛ржбрж┐</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="topic3" class="mb-16 scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзй. ржмрзЛрж░рзНржб ржЕржл ржбрж┐рж░рзЗржХрзНржЯрж░рж╕ (ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржкрж░рзНрж╖ржж)</h3>
                         <button id="tts-btn-3" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic3')">ЁЯФК</button>
                    </div>
                    <div id="topic3-content">
                        <p class="mb-6 text-gray-700">ржмрзЛрж░рзНржб ржЕржл ржбрж┐рж░рзЗржХрзНржЯрж░рж╕ рж╢рзЗржпрж╝рж╛рж░рж╣рзЛрж▓рзНржбрж╛рж░ржжрзЗрж░ ржкрзНрж░рждрж┐ржирж┐ржзрж┐ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржПржмржВ ржХрзЛржорзНржкрж╛ржирж┐рж░ рж╕рж╛ржоржЧрзНрж░рж┐ржХ ржжрж┐ржХржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржУ рждрждрзНрждрзНржмрж╛ржмржзрж╛ржирзЗрж░ ржЬржирзНржп ржжрж╛ржпрж╝рзА ржерж╛ржХрзЗред ржПржЯрж┐ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржПржмржВ ржорж╛рж▓рж┐ржХржжрзЗрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж╕рзЗрждрзБ рж╣рж┐рж╕рж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h4 class="text-lg font-semibold mb-3">ржмрзЛрж░рзНржбрзЗрж░ ржЧржаржи</h4>
                                <p class="text-gray-600 mb-4">ржмрзЛрж░рзНржбрзЗ рж╕рж╛ржзрж╛рж░ржгржд ржирж┐рж░рзНржмрж╛рж╣рзА (Executive) ржПржмржВ ржЕ-ржирж┐рж░рзНржмрж╛рж╣рзА (Non-Executive) ржкрж░рж┐ржЪрж╛рж▓ржХржжрзЗрж░ рж╕ржоржирзНржмржпрж╝ ржерж╛ржХрзЗред ржПржХржЯрж┐ ржнрж╛рж░рж╕рж╛ржорзНржпржкрзВрж░рзНржг ржмрзЛрж░рзНржб ржХрж╛рж░рзНржпржХрж░ рж╢рж╛рж╕ржирзЗрж░ ржЬржирзНржп ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред</p>
                                <ul class="space-y-2 text-sm">
                                    <li><span class="font-bold">ржирж┐рж░рзНржмрж╛рж╣рзА ржкрж░рж┐ржЪрж╛рж▓ржХ:</span> ржХрзЛржорзНржкрж╛ржирж┐рж░ ржмрзЗрждржиржнрзБржХрзНржд ржХрж░рзНржоржХрж░рзНрждрж╛, ржпрзЗржоржи CEO, CFOред</li>
                                    <li><span class="font-bold">ржЕ-ржирж┐рж░рзНржмрж╛рж╣рзА ржкрж░рж┐ржЪрж╛рж▓ржХ:</span> ржХрзЛржорзНржкрж╛ржирж┐рж░ ржмрж╛ржЗрж░рзЗрж░ рж╕рзНржмрж╛ржзрзАржи ржмрж┐рж╢рзЗрж╖ржЬрзНржЮред</li>
                                    <li><span class="font-bold">ржЪрзЗржпрж╝рж╛рж░ржорзНржпрж╛ржи:</span> ржмрзЛрж░рзНржбрзЗрж░ ржкрзНрж░ржзрж╛ржи, ржпрж┐ржирж┐ рж╕ржнрж╛ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржиред</li>
                                </ul>
                            </div>
                            <div class="chart-container">
                                <canvas id="boardCompositionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="topic4" class="mb-16 scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзк. ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржЖржХрж╛рж░ ржУ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржХрж╛ржарж╛ржорзЛ</h3>
                        <button id="tts-btn-4" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic4')">ЁЯФК</button>
                    </div>
                     <div id="topic4-content">
                        <p class="mb-6 text-gray-700">ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржЖржХрж╛рж░ рждрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржХрж╛ржарж╛ржорзЛрж░ ржЙржкрж░ рж╕рж░рж╛рж╕рж░рж┐ ржкрзНрж░ржнрж╛ржм ржлрзЗрж▓рзЗред ржЫрзЛржЯ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржХрж╛ржарж╛ржорзЛ рж╕рж░рж▓ рж╣рж▓рзЗржУ, ржмржбрж╝ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржХрж╛ржарж╛ржорзЛ ржЬржЯрж┐рж▓ ржПржмржВ ржмрж╣рзБрж╕рзНрждрж░ржмрж┐рж╢рж┐рж╖рзНржЯ рж╣ржпрж╝ред</p>
                         <div class="flex flex-col md:flex-row gap-6">
                            <div class="w-full md:w-1/3 text-center p-4 bg-blue-50 rounded-lg">
                                <h4 class="font-bold text-blue-800">ржЫрзЛржЯ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи</h4>
                                <p class="text-sm text-blue-700">ржХрзЗржирзНржжрзНрж░рзАржпрж╝ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛, ржХржо ржЖржирзБрж╖рзНржарж╛ржирж┐ржХрждрж╛ред</p>
                            </div>
                            <div class="w-full md:w-1/3 text-center p-4 bg-green-50 rounded-lg">
                                 <h4 class="font-bold text-green-800">ржорж╛ржЭрж╛рж░рж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи</h4>
                                 <p class="text-sm text-green-700">ржмрж┐ржнрж╛ржЧрзАржпрж╝ржХрж░ржг рж╢рзБрж░рзБ рж╣ржпрж╝, ржПржХрж╛ржзрж┐ржХ ржмрзНржпржмрж╕рзНржерж╛ржкржХред</p>
                            </div>
                            <div class="w-full md:w-1/3 text-center p-4 bg-purple-50 rounded-lg">
                                 <h4 class="font-bold text-purple-800">ржмрзГрж╣рзО ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи</h4>
                                 <p class="text-sm text-purple-700">ржЬржЯрж┐рж▓ рж╣рж╛ржпрж╝рж╛рж░рж╛рж░рзНржХрж┐, ржмрж┐ржХрзЗржирзНржжрзНрж░рзАржнрзВржд рж╕рж┐ржжрзНржзрж╛ржирзНрждред</p>
                            </div>
                         </div>
                    </div>
                </div>
            </section>

            <section id="topic5" class="mb-16 scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзл. ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржПрж░ ржпрзЛржЧрзНржпрждрж╛</h3>
                        <button id="tts-btn-5" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic5')">ЁЯФК</button>
                    </div>
                    <div id="topic5-content">
                        <p class="mb-6 text-gray-700">рж╕ржлрж▓ ржХрж░рзНржкрзЛрж░рзЗржЯ ржмрзНржпржмрж╕рзНржерж╛ржкржХржжрзЗрж░ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ ржпрзЛржЧрзНржпрждрж╛ ржПржмржВ ржжржХрзНрж╖рждрж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ред ржПржЧрзБрж▓рж┐ржХрзЗ ржкрзНрж░ржзрж╛ржиржд рждрж┐ржиржЯрж┐ ржнрж╛ржЧрзЗ ржнрж╛ржЧ ржХрж░рж╛ ржпрж╛ржпрж╝:</p>
                        <ul class="space-y-4">
                            <li>
                                <p><strong class="text-gray-800">рзз. ржзрж╛рж░ржгрж╛ржЧржд ржжржХрзНрж╖рждрж╛ (Conceptual Skills):</strong> рж╕рж╛ржоржЧрзНрж░рж┐ржХ ржЪрж┐рждрзНрж░ ржмрзЛржЭрж╛, ржХрзМрж╢рж▓ржЧржд ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржПржмржВ ржЬржЯрж┐рж▓ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржирзЗрж░ ржХрзНрж╖ржорждрж╛ред</p>
                            </li>
                            <li>
                                <p><strong class="text-gray-800">рзи. ржорж╛ржиржмрзАржпрж╝ ржжржХрзНрж╖рждрж╛ (Human Skills):</strong> ржжрж▓ ржкрж░рж┐ржЪрж╛рж▓ржирж╛, ржпрзЛржЧрж╛ржпрзЛржЧ рж╕рзНржерж╛ржкржи ржПржмржВ ржЕржирзНржпржжрзЗрж░ ржЕржирзБржкрзНрж░рж╛ржгрж┐ржд ржХрж░рж╛рж░ ржХрзНрж╖ржорждрж╛ред</p>
                            </li>
                            <li>
                                <p><strong class="text-gray-800">рзй. ржкрзНрж░ржпрзБржХрзНрждрж┐ржЧржд ржжржХрзНрж╖рждрж╛ (Technical Skills):</strong> ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж╛ржЬ ржмрж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╢рзЗрж╖ ржЬрзНржЮрж╛ржи ржПржмржВ ржжржХрзНрж╖рждрж╛ред</p>
                            </li>
                        </ul>
                    </div>
                    <div class="mt-8 text-center">
                        <button class="gemini-btn" onclick="generateInterviewQuestions()">тЬи ржЪрж╛ржХрж░рж┐рж░ ржЗржирзНржЯрж╛рж░ржнрж┐ржЙ ржкрзНрж░рж╢рзНржи рждрзИрж░рж┐ ржХрж░рзБржи</button>
                    </div>
                </div>
            </section>
            
            <section id="topic6" class="mb-16 scroll-mt-24">
                <div class="content-card">
                     <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзм. ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржПрж░ ржирж┐ржпрж╝рзЛржЧ ржкржжрзНржзрждрж┐</h3>
                        <button id="tts-btn-6" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic6')">ЁЯФК</button>
                    </div>
                    <div id="topic6-content">
                        <p class="mb-6 text-gray-700">рж╕ржарж┐ржХ ржмрзНржпржмрж╕рзНржерж╛ржкржХ ржирж┐ржпрж╝рзЛржЧ ржПржХржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд ржХржпрж╝рзЗржХржЯрж┐ ржзрж╛рж░рж╛ржмрж╛рж╣рж┐ржХ ржзрж╛ржкрзЗ рж╕ржорзНржкржирзНржи рж╣ржпрж╝ред ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ ржзрж╛ржкрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ рждрж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирзБржиред</p>
                        <div class="flex flex-col md:flex-row gap-8">
                            <div id="recruitment-process" class="relative md:w-1/2">
                                <div class="absolute left-4 top-0 h-full w-0.5 bg-[#E9E4DB]"></div>
                                <div class="step-item relative mb-8 pl-12 cursor-pointer active" onclick="showStepDetails(this, 'step-detail-1')">
                                    <div class="step-circle absolute left-0 top-1 w-8 h-8 rounded-full border-2 border-[#E9E4DB] bg-white flex items-center justify-center font-bold">1</div>
                                    <h4 class="step-title font-semibold text-lg">ржЪрж╛рж╣рж┐ржжрж╛ ржирж┐рж░рзНржзрж╛рж░ржг</h4>
                                </div>
                                <div class="step-item relative mb-8 pl-12 cursor-pointer" onclick="showStepDetails(this, 'step-detail-2')">
                                    <div class="step-circle absolute left-0 top-1 w-8 h-8 rounded-full border-2 border-[#E9E4DB] bg-white flex items-center justify-center font-bold">2</div>
                                    <h4 class="step-title font-semibold text-lg">ржЖржмрзЗржжржи ржЖрж╣рзНржмрж╛ржи</h4>
                                </div>
                                 <div class="step-item relative mb-8 pl-12 cursor-pointer" onclick="showStepDetails(this, 'step-detail-3')">
                                    <div class="step-circle absolute left-0 top-1 w-8 h-8 rounded-full border-2 border-[#E9E4DB] bg-white flex items-center justify-center font-bold">3</div>
                                    <h4 class="step-title font-semibold text-lg">ржмрж╛ржЫрж╛ржЗ ржУ рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░</h4>
                                </div>
                                <div class="step-item relative mb-8 pl-12 cursor-pointer" onclick="showStepDetails(this, 'step-detail-4')">
                                    <div class="step-circle absolute left-0 top-1 w-8 h-8 rounded-full border-2 border-[#E9E4DB] bg-white flex items-center justify-center font-bold">4</div>
                                    <h4 class="step-title font-semibold text-lg">ржЪрзВржбрж╝рж╛ржирзНржд ржирж┐рж░рзНржмрж╛ржЪржи ржУ ржирж┐ржпрж╝рзЛржЧ</h4>
                                </div>
                            </div>
                            <div id="step-details" class="mt-6 md:mt-0 p-4 bg-[#F6F3EE] rounded-lg md:w-1/2 h-fit">
                                <p id="step-detail-1" class="step-detail-text">ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ рж▓ржХрзНрж╖рзНржп ржЕрж░рзНржЬржирзЗрж░ ржЬржирзНржп ржХрзЛржи ржкржжрзЗ, ржХрзА ржпрзЛржЧрзНржпрждрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржХ ржкрзНрж░ржпрж╝рзЛржЬржи рждрж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рж╛ рж╣ржпрж╝ред</p>
                                <p id="step-detail-2" class="step-detail-text hidden">ржмрж┐ржЬрзНржЮрж╛ржкржи, рж╣рзЗржбрж╣рж╛ржирзНржЯрж┐ржВ ржмрж╛ ржЕржнрзНржпржирзНрждрж░рзАржг ржкржжрзЛржирзНржирждрж┐рж░ ржорж╛ржзрзНржпржорзЗ ржпрзЛржЧрзНржп ржкрзНрж░рж╛рж░рзНржерзАржжрзЗрж░ ржХрж╛ржЫ ржерзЗржХрзЗ ржЖржмрзЗржжржи ржЪрж╛ржУржпрж╝рж╛ рж╣ржпрж╝ред</p>
                                <p id="step-detail-3" class="step-detail-text hidden">ржЖржмрзЗржжржиржкрждрзНрж░ ржпрж╛ржЪрж╛ржЗ, ржкрж░рзАржХрзНрж╖рж╛ ржПржмржВ ржПржХрж╛ржзрж┐ржХ рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржЙржкржпрзБржХрзНржд ржкрзНрж░рж╛рж░рзНржерзА ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛ рж╣ржпрж╝ред</p>
                                <p id="step-detail-4" class="step-detail-text hidden">рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░рзЗ ржЙрждрзНрждрзАрж░рзНржг ржкрзНрж░рж╛рж░рзНржерзАрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржЪрзЗржХ ржХрж░рзЗ ржПржмржВ ржмрзЗрждржи-ржнрж╛рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржирж┐ржпрж╝рзЛржЧржкрждрзНрж░ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="topic7" class="mb-16 scroll-mt-24">
                <div class="content-card">
                     <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзн. ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржПрж░ ржХрж╛рж░рзНржпрж╛ржмрж▓рж┐</h3>
                        <button id="tts-btn-7" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic7')">ЁЯФК</button>
                    </div>
                    <div id="topic7-content">
                        <p class="mb-6 text-gray-700">ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржХрж╛рж░рзНржпрж╛ржмрж▓рж┐ ржкрж░рж╕рзНржкрж░ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржПржмржВ ржЪржХрзНрж░рж╛ржХрж╛рж░рзЗ ржЪрж▓рждрзЗ ржерж╛ржХрзЗред ржПржЗ ржХрж╛ржЬржЧрзБрж▓рзЛ ржжржХрзНрж╖рждрж╛рж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж╛ржжржирзЗрж░ ржЙржкрж░ржЗ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ рж╕рж╛ржлрж▓рзНржп ржирж┐рж░рзНржнрж░ ржХрж░рзЗред</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div class="order-2 md:order-1">
                                <ul class="space-y-3">
                                    <li><strong>ржкрж░рж┐ржХрж▓рзНржкржирж╛ (Planning):</strong> рж▓ржХрзНрж╖рзНржп ржирж┐рж░рзНржзрж╛рж░ржг ржПржмржВ рждрж╛ ржЕрж░рзНржЬржирзЗрж░ ржЬржирзНржп ржХрж░рзНржоржкржирзНржерж╛ рждрзИрж░рж┐ ржХрж░рж╛ред</li>
                                    <li><strong>рж╕ржВржЧржаржи (Organizing):</strong> рж╕ржорзНржкржж ржУ ржХрж░рзНржорзАржжрзЗрж░ ┘Е┘Ж╪╕┘Е ржХрж░рж╛ ржПржмржВ ржжрж╛ржпрж╝рж┐рждрзНржм ржмржгрзНржЯржи ржХрж░рж╛ред</li>
                                    <li><strong>ржХрж░рзНржорзАрж╕ржВрж╕рзНржерж╛ржи (Staffing):</strong> рж╕ржарж┐ржХ ржХрж░рзНржорзАрж░ ржирж┐ржпрж╝рзЛржЧ, ржкрзНрж░рж╢рж┐ржХрзНрж╖ржг ржУ ржЙржирзНржиржпрж╝ржи ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ред</li>
                                    <li><strong>ржирж┐рж░рзНржжрзЗрж╢ржирж╛ (Directing):</strong> ржХрж░рзНржорзАржжрзЗрж░ ржирзЗрждрзГрждрзНржм ржжрзЗржУржпрж╝рж╛, ржЕржирзБржкрзНрж░рж╛ржгрж┐ржд ржХрж░рж╛ ржПржмржВ ржпрзЛржЧрж╛ржпрзЛржЧ рж░ржХрзНрж╖рж╛ ржХрж░рж╛ред</li>
                                    <li><strong>рж╕ржоржирзНржмржпрж╝ (Coordinating):</strong> ржмрж┐ржнрж┐ржирзНржи ржмрж┐ржнрж╛ржЧрзЗрж░ ржХрж╛ржЬрзЗрж░ ржоржзрзНржпрзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп ржмрж┐ржзрж╛ржи ржХрж░рж╛ред</li>
                                    <li><strong>ржирж┐ржпрж╝ржирзНрждрзНрж░ржг (Controlling):</strong> ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржЕржирзБржпрж╛ржпрж╝рзА ржХрж╛ржЬ рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржУ ржорзВрж▓рзНржпрж╛ржпрж╝ржи ржХрж░рж╛ред</li>
                                </ul>
                            </div>
                            <div class="chart-container order-1 md:order-2">
                                 <canvas id="functionsChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="topic8" class="scroll-mt-24">
                <div class="content-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-[#A47748]">рзо. ржХрж░рзНржкрзЛрж░рзЗржЯ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржХрзНрж╖ржорждрж╛</h3>
                        <button id="tts-btn-8" class="ml-4 text-gray-500 hover:text-[#A47748] text-2xl" onclick="playSectionAudio('topic8')">ЁЯФК</button>
                    </div>
                    <div id="topic8-content">
                        <p class="mb-6 text-gray-700">ржмрзНржпржмрж╕рзНржерж╛ржкржХржжрзЗрж░ рждрж╛ржжрзЗрж░ ржжрж╛ржпрж╝рж┐рждрзНржм ржкрж╛рж▓ржирзЗрж░ ржЬржирзНржп ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзНрж╖ржорждрж╛ ржмрж╛ ржХрж░рзНрждрзГрждрзНржм ржкрзНрж░ржжрж╛ржи ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржХрзНрж╖ржорждрж╛ рж╕рж╛ржзрж╛рж░ржгржд ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржирж┐ржпрж╝ржорж╛ржмрж▓рзА ржПржмржВ ржЖржЗржи ржжрзНржмрж╛рж░рж╛ ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржерж╛ржХрзЗред</p>
                         <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li><strong>ржкржжржорж░рзНржпрж╛ржжрж╛ржнрж┐рждрзНрждрж┐ржХ ржХрзНрж╖ржорждрж╛ (Legitimate Power):</strong> рж╕рж╛ржВржЧржаржирж┐ржХ ржкржж ржерзЗржХрзЗ ржкрзНрж░рж╛ржкрзНржд ржХрзНрж╖ржорждрж╛ред</li>
                            <li><strong>ржкрзБрж░рж╕рзНржХрж╛рж░ ржкрзНрж░ржжрж╛ржирзЗрж░ ржХрзНрж╖ржорждрж╛ (Reward Power):</strong> ржХрж░рзНржорзАржжрзЗрж░ ржкрзБрж░рж╕рзНржХрзГржд ржХрж░рж╛рж░ ржХрзНрж╖ржорждрж╛ред</li>
                            <li><strong>рж╢рж╛рж╕рзНрждрж┐ ржкрзНрж░ржжрж╛ржирзЗрж░ ржХрзНрж╖ржорждрж╛ (Coercive Power):</strong> ржирж┐ржпрж╝ржо ржнржЩрзНржЧрзЗрж░ ржЬржирзНржп ржХрж░рзНржорзАржжрзЗрж░ рж╢рж╛рж╕рзНрждрж┐ ржжрзЗржУржпрж╝рж╛рж░ ржХрзНрж╖ржорждрж╛ред</li>
                            <li><strong>ржмрж┐рж╢рзЗрж╖ржЬрзНржЮрждрж╛рж░ ржХрзНрж╖ржорждрж╛ (Expert Power):</strong> ржмрж┐рж╢рзЗрж╖ ржЬрзНржЮрж╛ржи ржмрж╛ ржжржХрзНрж╖рждрж╛рж░ ржХрж╛рж░ржгрзЗ ржЕрж░рзНржЬрж┐ржд ржХрзНрж╖ржорждрж╛ред</li>
                            <li><strong>ржмрзНржпржХрзНрждрж┐рждрзНржмрзЗрж░ ржХрзНрж╖ржорждрж╛ (Referent Power):</strong> ржмрзНржпржХрзНрждрж┐рждрзНржм, charisma ржмрж╛ рж╢рзНрж░ржжрзНржзрж╛рж░ ржХрж╛рж░ржгрзЗ ржЕрж░рзНржЬрж┐ржд ржХрзНрж╖ржорждрж╛ред</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Gemini Modal -->
    <div id="gemini-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b">
                <h4 id="modal-title" class="text-xl font-bold text-[#A47748]">ржЬрзЗржирж╛рж░рзЗржЯрзЗржб ржХржиржЯрзЗржирзНржЯ</h4>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto">
                <div id="loader" class="flex justify-center items-center h-48">
                    <div class="loader"></div>
                </div>
                <div id="modal-text" class="text-gray-700 whitespace-pre-wrap" style="display: none;"></div>
            </div>
        </div>
    </div>

    <audio id="tts-audio" style="display: none;"></audio>

    <script>
        const API_KEY = ""; // Use "" for public models
        const TEXT_MODEL = "gemini-2.5-flash-preview-05-20";
        const TTS_MODEL = "gemini-2.5-flash-preview-tts";

        let currentAudio = null;
        let currentTTSButton = null;

        function showModal(title) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('loader').style.display = 'flex';
            document.getElementById('modal-text').style.display = 'none';
            document.getElementById('gemini-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('gemini-modal').classList.add('hidden');
        }

        function displayModalContent(text) {
            document.getElementById('loader').style.display = 'none';
            document.getElementById('modal-text').innerText = text;
            document.getElementById('modal-text').style.display = 'block';
        }

        function displayModalError(error) {
            document.getElementById('loader').style.display = 'none';
            document.getElementById('modal-text').innerText = `ржжрзБржГржЦрж┐ржд, ржПржХржЯрж┐ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред\nError: ${error}`;
            document.getElementById('modal-text').style.display = 'block';
        }

        async function callGeminiApi(prompt, retries = 3, delay = 1000) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${TEXT_MODEL}:generateContent?key=${API_KEY}`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
            };
            
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                         const errorBody = await response.json();
                         throw new Error(`HTTP error! status: ${response.status}, message: ${errorBody.error.message}`);
                    }
                    
                    const result = await response.json();
                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts[0]) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error('No content in response');
                    }
                } catch (error) {
                    console.error(`Attempt ${i + 1} failed:`, error);
                    if (i === retries - 1) throw error;
                    await new Promise(res => setTimeout(res, delay * Math.pow(2, i)));
                }
            }
        }

        async function generateCaseStudy(style) {
            showModal(`${style} ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржХрзЗрж╕ рж╕рзНржЯрж╛ржбрж┐`);
            const prompt = `ржПржХржЬржи ржЫрж╛рждрзНрж░рзЗрж░ ржЬржирзНржп рж╕рж╣ржЬрзЗ ржмрзЛржЭрж╛ ржпрж╛ржпрж╝ ржПржоржиржнрж╛ржмрзЗ "${style}" ржмрж╛ "${style}" ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржкржжрзНржзрждрж┐рж░ ржЙржкрж░ ржПржХржЯрж┐ ржХрж╛рж▓рзНржкржирж┐ржХ ржХрзЛржорзНржкрж╛ржирж┐рж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржХрзЗрж╕ рж╕рзНржЯрж╛ржбрж┐ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ржпрж╝ рждрзИрж░рж┐ ржХрж░рзБржиред`;
            try {
                const result = await callGeminiApi(prompt);
                displayModalContent(result);
            } catch (error) {
                displayModalError(error);
            }
        }

        async function generateInterviewQuestions() {
            showModal('ржорзНржпрж╛ржирзЗржЬрж╛рж░ ржкржжрзЗрж░ ржЬржирзНржп ржЗржирзНржЯрж╛рж░ржнрж┐ржЙ ржкрзНрж░рж╢рзНржи');
            const skillsText = document.getElementById('topic5-content').innerText;
            const prompt = `ржХрж░рзНржкрзЛрж░рзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржпрзЛржЧрзНржпрждрж╛ржЧрзБрж▓рж┐рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржПржХржЬржи ржорзНржпрж╛ржирзЗржЬрж╛рж░рзЗрж░ ржЪрж╛ржХрж░рж┐рж░ ржЗржирзНржЯрж╛рж░ржнрж┐ржЙрзЯрзЗрж░ ржЬржирзНржп рзлржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржкрзНрж░рж╢рзНржи ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ржпрж╝ рждрзИрж░рж┐ ржХрж░рзБржи:\n\n${skillsText}`;
            try {
                const result = await callGeminiApi(prompt);
                displayModalContent(result);
            } catch (error) {
                displayModalError(error);
            }
        }
        
        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        function pcmToWav(pcmData, sampleRate) {
            const numChannels = 1;
            const bitsPerSample = 16;
            const blockAlign = (numChannels * bitsPerSample) / 8;
            const byteRate = sampleRate * blockAlign;
            const dataSize = pcmData.byteLength;
            const buffer = new ArrayBuffer(44 + dataSize);
            const view = new DataView(buffer);

            function writeString(view, offset, string) {
                for (let i = 0; i < string.length; i++) {
                    view.setUint8(offset + i, string.charCodeAt(i));
                }
            }

            writeString(view, 0, 'RIFF');
            view.setUint32(4, 36 + dataSize, true);
            writeString(view, 8, 'WAVE');
            writeString(view, 12, 'fmt ');
            view.setUint32(16, 16, true);
            view.setUint16(20, 1, true);
            view.setUint16(22, numChannels, true);
            view.setUint32(24, sampleRate, true);
            view.setUint32(28, byteRate, true);
            view.setUint16(32, blockAlign, true);
            view.setUint16(34, bitsPerSample, true);
            writeString(view, 36, 'data');
            view.setUint32(40, dataSize, true);

            const pcm16 = new Int16Array(pcmData);
            const wavBytes = new Int16Array(buffer, 44);
            wavBytes.set(pcm16);

            return new Blob([view], { type: 'audio/wav' });
        }


        async function generateAndPlayTTS(text, button) {
             if (currentAudio && !currentAudio.paused) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                if(currentTTSButton) currentTTSButton.innerHTML = 'ЁЯФК';
                if (currentTTSButton === button) {
                    currentTTSButton = null;
                    currentAudio = null;
                    return;
                }
            }

            button.innerHTML = 'тП│';
            currentTTSButton = button;
            
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${TTS_MODEL}:generateContent?key=${API_KEY}`;
            const payload = {
                contents: [{ parts: [{ text: `Please say the following in Bengali: ${text}` }] }],
                generationConfig: { responseModalities: ["AUDIO"] }
            };

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                const result = await response.json();
                const audioData = result?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;
                const mimeType = result?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.mimeType;

                if (audioData && mimeType && mimeType.startsWith("audio/")) {
                    const sampleRate = parseInt(mimeType.match(/rate=(\d+)/)[1], 10) || 24000;
                    const pcmData = base64ToArrayBuffer(audioData);
                    const wavBlob = pcmToWav(pcmData, sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);

                    const audioPlayer = document.getElementById('tts-audio');
                    audioPlayer.src = audioUrl;
                    currentAudio = audioPlayer;

                    audioPlayer.onplay = () => { button.innerHTML = 'тП╕я╕П'; };
                    audioPlayer.onpause = () => { button.innerHTML = 'ЁЯФК'; };
                    audioPlayer.onended = () => {
                        button.innerHTML = 'ЁЯФК';
                        currentAudio = null;
                        currentTTSButton = null;
                    };
                    
                    audioPlayer.play();
                } else {
                     throw new Error('Invalid audio data received');
                }
            } catch (error) {
                console.error('TTS Error:', error);
                alert('ржжрзБржГржЦрж┐ржд, ржЕржбрж┐ржУ ржкрзНрж▓рзЗ ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рзЯрзЗржЫрзЗред');
                button.innerHTML = 'ЁЯФК';
            }
        }

        function playSectionAudio(sectionId) {
            const content = document.getElementById(`${sectionId}-content`).innerText;
            const button = document.getElementById(`tts-btn-${sectionId.replace('topic', '')}`);
            generateAndPlayTTS(content, button);
        }

        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('#navigation a');

            function changeActiveLink() {
                let index = sections.length;
                while(--index && window.scrollY + 100 < sections[index].offsetTop) {}
                
                navLinks.forEach((link) => link.classList.remove('active'));
                if (navLinks[index]) {
                    navLinks[index].classList.add('active');
                }
            }

            changeActiveLink();
            window.addEventListener('scroll', changeActiveLink);

            navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            const boardCtx = document.getElementById('boardCompositionChart').getContext('2d');
            new Chart(boardCtx, {
                type: 'doughnut',
                data: {
                    labels: ['ржЕ-ржирж┐рж░рзНржмрж╛рж╣рзА ржкрж░рж┐ржЪрж╛рж▓ржХ', 'ржирж┐рж░рзНржмрж╛рж╣рзА ржкрж░рж┐ржЪрж╛рж▓ржХ', 'рж╕рзНржмрж╛ржзрзАржи ржкрж░рж┐ржЪрж╛рж▓ржХ'],
                    datasets: [{
                        label: 'ржмрзЛрж░рзНржбрзЗрж░ ржЧржаржи',
                        data: [50, 25, 25],
                        backgroundColor: [ '#A47748', '#333D45', '#E9E4DB' ],
                        borderColor: '#FFFFFF',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { fontFamily: "'Noto Sans Bengali', sans-serif", font: { size: 14 }}},
                        tooltip: { callbacks: { label: (c) => `${c.label}: ${c.parsed}%` }}
                    }
                }
            });

            const functionsCtx = document.getElementById('functionsChart').getContext('2d');
            new Chart(functionsCtx, {
                type: 'radar',
                data: {
                    labels: ['ржкрж░рж┐ржХрж▓рзНржкржирж╛', 'рж╕ржВржЧржаржи', 'ржХрж░рзНржорзАрж╕ржВрж╕рзНржерж╛ржи', 'ржирж┐рж░рзНржжрзЗрж╢ржирж╛', 'рж╕ржоржирзНржмржпрж╝', 'ржирж┐ржпрж╝ржирзНрждрзНрж░ржг'],
                    datasets: [{
                        label: 'ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржХрж╛рж░рзНржпрж╛ржмрж▓рж┐рж░ ржЧрзБрж░рзБрждрзНржм',
                        data: [9, 8, 7, 9, 8, 7],
                        backgroundColor: 'rgba(164, 119, 72, 0.2)',
                        borderColor: '#A47748',
                        pointBackgroundColor: '#A47748',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#A47748'
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        r: {
                            angleLines: { color: '#E9E4DB' },
                            grid: { color: '#E9E4DB' },
                            pointLabels: { font: { size: 13, family: "'Noto Sans Bengali', sans-serif" }, color: '#333D45' },
                            ticks: { backdropColor: '#FDFBF7', color: '#A47748' }
                        }
                    }
                }
            });

        });

        function showStepDetails(selectedStep, detailId) {
            document.querySelectorAll('.step-item').forEach(step => step.classList.remove('active'));
            selectedStep.classList.add('active');

            document.querySelectorAll('.step-detail-text').forEach(detail => detail.classList.add('hidden'));
            document.getElementById(detailId).classList.remove('hidden');
        }

    </script>
</body>
</html>

